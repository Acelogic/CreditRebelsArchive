<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Credit Rebels Toolkit - FICO Score Tools</title>
    <meta name="description" content="Free credit scoring tools based on the Credit Scoring Primer. AAoA Calculator, Utilization Optimizer, AZEO Planner, and more.">
    <style>
        :root {
            --primary: #1a365d;
            --primary-light: #2c5282;
            --accent: #38a169;
            --accent-hover: #2f855a;
            --warning: #d69e2e;
            --danger: #e53e3e;
            --bg: #f7fafc;
            --card-bg: #ffffff;
            --text: #2d3748;
            --text-muted: #718096;
            --border: #e2e8f0;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
        }

        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            padding: 2rem 1rem;
            text-align: center;
        }

        header h1 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        header p {
            opacity: 0.9;
            font-size: 1rem;
        }

        .memorial {
            background: rgba(255,255,255,0.1);
            padding: 0.75rem 1rem;
            border-radius: 8px;
            margin-top: 1rem;
            font-size: 0.9rem;
            display: inline-block;
        }

        nav {
            background: var(--card-bg);
            border-bottom: 1px solid var(--border);
            padding: 0.5rem;
            position: sticky;
            top: 0;
            z-index: 100;
            overflow-x: auto;
            white-space: nowrap;
        }

        nav .tabs {
            display: flex;
            gap: 0.25rem;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        nav button {
            padding: 0.75rem 1rem;
            border: none;
            background: transparent;
            cursor: pointer;
            font-size: 0.9rem;
            color: var(--text-muted);
            border-radius: 6px;
            transition: all 0.2s;
            white-space: nowrap;
        }

        nav button:hover {
            background: var(--bg);
            color: var(--text);
        }

        nav button.active {
            background: var(--primary);
            color: white;
        }

        main {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1.5rem;
        }

        .tool-section {
            display: none;
        }

        .tool-section.active {
            display: block;
        }

        .card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .card h2 {
            color: var(--primary);
            margin-bottom: 0.5rem;
            font-size: 1.4rem;
        }

        .card h3 {
            color: var(--primary-light);
            margin: 1.5rem 0 0.75rem 0;
            font-size: 1.1rem;
        }

        .card > p {
            color: var(--text-muted);
            margin-bottom: 1rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        label {
            display: block;
            margin-bottom: 0.25rem;
            font-weight: 500;
            font-size: 0.9rem;
        }

        input, select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border);
            border-radius: 6px;
            font-size: 1rem;
        }

        input:focus, select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(26, 54, 93, 0.1);
        }

        button.primary {
            background: var(--accent);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            font-size: 1rem;
            cursor: pointer;
            transition: background 0.2s;
        }

        button.primary:hover {
            background: var(--accent-hover);
        }

        button.secondary {
            background: var(--bg);
            color: var(--text);
            border: 1px solid var(--border);
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            font-size: 1rem;
            cursor: pointer;
        }

        .results {
            background: var(--bg);
            border-radius: 8px;
            padding: 1rem;
            margin-top: 1rem;
        }

        .result-item {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            border-bottom: 1px solid var(--border);
        }

        .result-item:last-child {
            border-bottom: none;
        }

        .result-label {
            color: var(--text-muted);
        }

        .result-value {
            font-weight: 600;
        }

        .result-value.good {
            color: var(--accent);
        }

        .result-value.warning {
            color: var(--warning);
        }

        .result-value.danger {
            color: var(--danger);
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
        }

        .stat-card {
            background: var(--bg);
            border-radius: 8px;
            padding: 1rem;
            text-align: center;
        }

        .stat-card .value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
        }

        .stat-card .label {
            color: var(--text-muted);
            font-size: 0.85rem;
        }

        .accounts-list {
            margin-top: 1rem;
        }

        .account-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem;
            background: var(--bg);
            border-radius: 6px;
            margin-bottom: 0.5rem;
        }

        .account-item .info {
            flex: 1;
        }

        .account-item .name {
            font-weight: 500;
        }

        .account-item .details {
            font-size: 0.85rem;
            color: var(--text-muted);
        }

        .account-item button {
            background: none;
            border: none;
            color: var(--danger);
            cursor: pointer;
            padding: 0.5rem;
        }

        .inline-form {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .inline-form input, .inline-form select {
            flex: 1;
            min-width: 120px;
        }

        .inline-form button {
            white-space: nowrap;
        }

        .credit-card-input {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .tip {
            background: #ebf8ff;
            border-left: 4px solid #3182ce;
            padding: 0.75rem 1rem;
            margin: 1rem 0;
            border-radius: 0 6px 6px 0;
            font-size: 0.9rem;
        }

        .countdown {
            font-family: monospace;
            font-size: 1.1rem;
        }

        .timeline-item {
            padding: 1rem;
            background: var(--bg);
            border-radius: 8px;
            margin-bottom: 0.75rem;
            border-left: 4px solid var(--primary);
        }

        .timeline-item.complete {
            border-left-color: var(--accent);
            opacity: 0.7;
        }

        .timeline-item .date {
            font-weight: 600;
        }

        .timeline-item .event {
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        .scorecard-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            background: var(--primary);
            color: white;
            border-radius: 20px;
            font-size: 0.85rem;
            margin: 0.25rem;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        th, td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        th {
            background: var(--bg);
            font-weight: 600;
        }

        footer {
            text-align: center;
            padding: 2rem;
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        footer a {
            color: var(--primary);
        }

        @media (max-width: 600px) {
            .credit-card-input {
                grid-template-columns: 1fr;
            }

            header h1 {
                font-size: 1.5rem;
            }

            nav button {
                padding: 0.5rem 0.75rem;
                font-size: 0.8rem;
            }
        }

        /* Score Simulator Styles */
        #simulator-scenarios {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
        }

        .scenario-card {
            background: var(--bg);
            border: 2px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .scenario-card:hover {
            border-color: var(--primary);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .scenario-title {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .scenario-desc {
            font-size: 0.85rem;
            color: var(--text-muted);
            margin-bottom: 0.5rem;
        }

        .scenario-impact {
            font-weight: 600;
            font-size: 0.9rem;
        }

        .scenario-impact.good { color: var(--accent); }
        .scenario-impact.warning { color: var(--warning); }
        .scenario-impact.danger { color: var(--danger); }

        /* Bank Rules Styles */
        .bank-rule-card {
            background: var(--bg);
            border-radius: 8px;
            margin-bottom: 1rem;
            overflow: hidden;
        }

        .bank-header {
            background: var(--primary);
            color: white;
            padding: 0.75rem 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .bank-header h3 {
            margin: 0;
            color: white;
        }

        .bank-tag {
            background: rgba(255,255,255,0.2);
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.75rem;
        }

        .bank-rules {
            padding: 1rem;
        }

        .rule {
            padding: 0.5rem 0;
            border-bottom: 1px solid var(--border);
        }

        .rule:last-child {
            border-bottom: none;
        }

        .rule-name {
            font-weight: 600;
            color: var(--primary);
            display: block;
            margin-bottom: 0.25rem;
        }

        .rule-desc {
            font-size: 0.9rem;
            color: var(--text-muted);
        }

        .bank-rule-card.hidden {
            display: none;
        }
    </style>
</head>
<body>
    <header>
        <h1>Credit Rebels Toolkit</h1>
        <p>Free FICO Score Tools Based on the Credit Scoring Primer</p>
        <div class="memorial">In Memory of Birdman (1976-2023)</div>
    </header>

    <nav>
        <div class="tabs">
            <button class="active" data-tab="aaoa">AAoA Calculator</button>
            <button data-tab="utilization">Utilization Optimizer</button>
            <button data-tab="azeo">AZEO Planner</button>
            <button data-tab="tracker">Inquiry Tracker</button>
            <button data-tab="derogatory">Derogatory Tracker</button>
            <button data-tab="scorecard">Scorecard Estimator</button>
            <button data-tab="reference">Quick Reference</button>
            <button data-tab="simulator">Score Simulator</button>
            <button data-tab="bankrules">Bank Rules</button>
            <button data-tab="disputes">Dispute Letters</button>
            <button data-tab="settings">‚öôÔ∏è Data</button>
        </div>
    </nav>

    <main>
        <!-- AAoA Calculator -->
        <section id="aaoa" class="tool-section active">
            <div class="card">
                <h2>Average Age of Accounts Calculator</h2>
                <p>Calculate your credit age metrics: AAoA, AoOA, AoYA, AoORA, AoYRA, and Chase 5/24 status.</p>

                <h3>Add Account</h3>
                <div class="inline-form">
                    <input type="text" id="acct-name" placeholder="Account name">
                    <input type="date" id="acct-date">
                    <select id="acct-type">
                        <option value="bankcard">Bankcard</option>
                        <option value="retail">Retail Card</option>
                        <option value="charge">Charge Card</option>
                        <option value="heloc">HELOC</option>
                        <option value="auto">Auto Loan</option>
                        <option value="mortgage">Mortgage</option>
                        <option value="student">Student Loan</option>
                        <option value="personal">Personal Loan</option>
                    </select>
                    <button class="primary" onclick="addAccount()">Add</button>
                </div>

                <div id="accounts-list" class="accounts-list"></div>

                <div id="aaoa-results" style="display:none;">
                    <h3>Age Metrics</h3>
                    <div class="grid">
                        <div class="stat-card">
                            <div class="value" id="aaoa-value">--</div>
                            <div class="label">AAoA (Average Age)</div>
                        </div>
                        <div class="stat-card">
                            <div class="value" id="aooa-value">--</div>
                            <div class="label">AoOA (Oldest)</div>
                        </div>
                        <div class="stat-card">
                            <div class="value" id="aoya-value">--</div>
                            <div class="label">AoYA (Youngest)</div>
                        </div>
                        <div class="stat-card">
                            <div class="value" id="aoyra-value">--</div>
                            <div class="label">AoYRA (Youngest Revolver)</div>
                        </div>
                    </div>

                    <h3>Chase 5/24 Status</h3>
                    <div class="results">
                        <div class="result-item">
                            <span class="result-label">Cards opened in last 24 months</span>
                            <span class="result-value" id="chase-count">0</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">Status</span>
                            <span class="result-value" id="chase-status">--</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">Slots remaining</span>
                            <span class="result-value" id="chase-slots">5</span>
                        </div>
                    </div>

                    <h3>Estimated FICO 8 Scorecard</h3>
                    <div id="scorecard-result" class="results"></div>
                </div>
            </div>
        </section>

        <!-- Utilization Optimizer -->
        <section id="utilization" class="tool-section">
            <div class="card">
                <h2>Utilization Optimizer</h2>
                <p>Calculate optimal balances to achieve the best utilization for your score. Target: &lt;9.5% aggregate (or &lt;4.5% for max points on some scorecards).</p>

                <div class="tip">
                    <strong>Key Thresholds:</strong> &lt;9.5% for main threshold, &lt;4.5% for potential extra points. Never $0 on ALL cards (All-Zero penalty costs 10-25 points).
                </div>

                <h3>Add Credit Card</h3>
                <div class="credit-card-input">
                    <input type="text" id="card-name" placeholder="Card name">
                    <input type="number" id="card-limit" placeholder="Credit limit">
                    <input type="number" id="card-balance" placeholder="Current balance">
                </div>
                <button class="primary" onclick="addCard()">Add Card</button>

                <div id="cards-list" class="accounts-list"></div>

                <div id="util-results" style="display:none;">
                    <h3>Current Utilization</h3>
                    <div class="grid">
                        <div class="stat-card">
                            <div class="value" id="current-util">--</div>
                            <div class="label">Aggregate Utilization</div>
                        </div>
                        <div class="stat-card">
                            <div class="value" id="total-limit">--</div>
                            <div class="label">Total Credit Limit</div>
                        </div>
                        <div class="stat-card">
                            <div class="value" id="total-balance">--</div>
                            <div class="label">Total Balance</div>
                        </div>
                    </div>

                    <h3>Optimization Targets</h3>
                    <div class="results">
                        <div class="result-item">
                            <span class="result-label">Target for &lt;9.5% utilization</span>
                            <span class="result-value" id="target-9">--</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">Target for &lt;4.5% utilization</span>
                            <span class="result-value" id="target-4">--</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">Amount to pay down for 9.5%</span>
                            <span class="result-value" id="paydown-9">--</span>
                        </div>
                        <div class="result-item">
                            <span class="result-label">Amount to pay down for 4.5%</span>
                            <span class="result-value" id="paydown-4">--</span>
                        </div>
                    </div>

                    <h3>Per-Card Analysis</h3>
                    <table id="card-analysis">
                        <thead>
                            <tr>
                                <th>Card</th>
                                <th>Limit</th>
                                <th>Balance</th>
                                <th>Util %</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- AZEO Planner -->
        <section id="azeo" class="tool-section">
            <div class="card">
                <h2>AZEO Statement Date Planner</h2>
                <p><strong>All Zero Except One</strong> - The optimal strategy is to have $0 report on all cards except one small balance (1-9% on one card) to avoid the All-Zero penalty while minimizing utilization.</p>

                <div class="tip">
                    <strong>The Strategy:</strong> Pay all cards to $0 before their statement dates, EXCEPT leave a small balance ($5-50) on ONE card. This reports low utilization without triggering the All-Zero penalty (10-25 points).
                </div>

                <h3>Add Card Statement Date</h3>
                <div class="inline-form">
                    <input type="text" id="azeo-card-name" placeholder="Card name">
                    <input type="number" id="azeo-statement-day" placeholder="Statement day (1-31)" min="1" max="31">
                    <input type="number" id="azeo-limit" placeholder="Credit limit">
                    <button class="primary" onclick="addAzeoCard()">Add</button>
                </div>

                <div id="azeo-cards-list" class="accounts-list"></div>

                <div id="azeo-results" style="display:none;">
                    <h3>Your AZEO Plan</h3>
                    <div id="azeo-plan" class="results"></div>

                    <h3>Monthly Payment Schedule</h3>
                    <div id="azeo-schedule"></div>
                </div>
            </div>
        </section>

        <!-- Inquiry Tracker -->
        <section id="tracker" class="tool-section">
            <div class="card">
                <h2>Inquiry Tracker</h2>
                <p>Track when hard inquiries stop affecting your score (12 months) and fall off your report (24-26 months).</p>

                <h3>Add Inquiry</h3>
                <div class="inline-form">
                    <input type="text" id="inq-name" placeholder="Creditor name">
                    <input type="date" id="inq-date">
                    <button class="primary" onclick="addInquiry()">Add</button>
                </div>

                <div id="inquiries-list" class="accounts-list"></div>

                <div id="inq-results" style="display:none;">
                    <h3>Inquiry Timeline</h3>
                    <div id="inq-timeline"></div>
                </div>
            </div>
        </section>

        <!-- Derogatory Tracker -->
        <section id="derogatory" class="tool-section">
            <div class="card">
                <h2>Derogatory Item Tracker</h2>
                <p>Track when negative items reduce in impact or fall off your report.</p>

                <h3>Add Derogatory Item</h3>
                <div class="inline-form">
                    <input type="text" id="derog-name" placeholder="Account/Item name">
                    <input type="date" id="derog-date">
                    <select id="derog-type">
                        <option value="30late">30 Day Late</option>
                        <option value="60late">60 Day Late</option>
                        <option value="90late">90+ Day Late</option>
                        <option value="collection">Collection</option>
                        <option value="chargeoff">Charge-Off</option>
                        <option value="bk7">Bankruptcy Ch.7</option>
                        <option value="bk13">Bankruptcy Ch.13</option>
                    </select>
                    <button class="primary" onclick="addDerogatory()">Add</button>
                </div>

                <div id="derog-list" class="accounts-list"></div>

                <div id="derog-results" style="display:none;">
                    <h3>Derogatory Timeline</h3>
                    <div class="tip">
                        <strong>Note:</strong> A 60+ day late puts you on a "dirty" scorecard for 7 years. Impact decreases over time but full recovery requires the item to age off.
                    </div>
                    <div id="derog-timeline"></div>
                </div>
            </div>
        </section>

        <!-- Scorecard Estimator -->
        <section id="scorecard" class="tool-section">
            <div class="card">
                <h2>FICO 8 Scorecard Estimator</h2>
                <p>Estimate which of the 12 FICO 8 scorecards you're on based on your profile characteristics.</p>

                <div class="form-group">
                    <label>Do you have any 60+ day lates, collections, bankruptcy, or other public records in the last 7 years?</label>
                    <select id="sc-clean">
                        <option value="clean">No - Clean Profile</option>
                        <option value="dirty">Yes - Dirty Profile</option>
                    </select>
                </div>

                <div id="clean-questions">
                    <div class="form-group">
                        <label>How many accounts do you have?</label>
                        <input type="number" id="sc-accounts" value="0">
                    </div>
                    <div class="form-group">
                        <label>Age of your oldest account (months)</label>
                        <input type="number" id="sc-aooa" value="0">
                    </div>
                    <div class="form-group">
                        <label>Age of your youngest revolving account (months)</label>
                        <input type="number" id="sc-aoyra" value="0">
                    </div>
                </div>

                <div id="dirty-questions" style="display:none;">
                    <div class="form-group">
                        <label>Do you have any public records (collections, bankruptcy, foreclosure)?</label>
                        <select id="sc-pr">
                            <option value="no">No - Only delinquencies</option>
                            <option value="yes">Yes - Have public records</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>How recent is your most recent negative item?</label>
                        <select id="sc-recency">
                            <option value="recent">Recent (within 2 years)</option>
                            <option value="mature">Mature (2+ years old)</option>
                        </select>
                    </div>
                </div>

                <button class="primary" onclick="estimateScorecard()">Estimate Scorecard</button>

                <div id="sc-results" class="results" style="display:none; margin-top:1rem;">
                    <h3>Your Estimated Scorecard</h3>
                    <div id="sc-scorecard"></div>
                    <div id="sc-insights"></div>
                </div>
            </div>

            <div class="card">
                <h2>FICO 8 Scorecard Map</h2>
                <p>The 12 scorecards in FICO Score 8:</p>

                <h3>Clean Scorecards (8)</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Thickness</th>
                            <th>Age</th>
                            <th>Revolver Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>Thin (&lt;4 accts)</td><td>Young (&lt;36mo)</td><td>New Revolver</td></tr>
                        <tr><td>Thin</td><td>Young</td><td>No New Revolver</td></tr>
                        <tr><td>Thin</td><td>Mature (36+mo)</td><td>New Revolver</td></tr>
                        <tr><td>Thin</td><td>Mature</td><td>No New Revolver</td></tr>
                        <tr><td>Thick (4+ accts)</td><td>Young</td><td>New Revolver</td></tr>
                        <tr><td>Thick</td><td>Young</td><td>No New Revolver</td></tr>
                        <tr><td>Thick</td><td>Mature</td><td>New Revolver</td></tr>
                        <tr><td>Thick</td><td>Mature</td><td>No New Revolver ‚≠ê</td></tr>
                    </tbody>
                </table>

                <h3>Dirty Scorecards (4)</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Severity</th>
                            <th>Recency</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>Delinquency Only (no PR)</td><td>Recent</td></tr>
                        <tr><td>Delinquency Only</td><td>Mature</td></tr>
                        <tr><td>Public Record</td><td>Recent</td></tr>
                        <tr><td>Public Record</td><td>Mature</td></tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Quick Reference -->
        <section id="reference" class="tool-section">
            <div class="card">
                <h2>FICO 8 Quick Reference</h2>
                <p>Key thresholds and optimal values from the Credit Scoring Primer.</p>

                <h3>The Five Categories</h3>
                <table>
                    <thead>
                        <tr><th>Category</th><th>Weight</th><th>~Points</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>Payment History</td><td>35%</td><td>~192</td></tr>
                        <tr><td>Amounts Owed</td><td>30%</td><td>~165</td></tr>
                        <tr><td>Length of History</td><td>15%</td><td>~82</td></tr>
                        <tr><td>New Credit</td><td>10%</td><td>~55</td></tr>
                        <tr><td>Credit Mix</td><td>10%</td><td>~55</td></tr>
                    </tbody>
                </table>

                <h3>Optimal Values</h3>
                <table>
                    <thead>
                        <tr><th>Metric</th><th>Optimal</th><th>Notes</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>Payment History</td><td>100%</td><td>Zero delinquencies</td></tr>
                        <tr><td>Aggregate Utilization</td><td>&lt;9.5%</td><td>Or &lt;4.5% on some cards</td></tr>
                        <tr><td>Individual Card Util</td><td>&lt;9.5%</td><td>Each card matters too</td></tr>
                        <tr><td>Retail Utilization</td><td>$0</td><td>Store cards at zero</td></tr>
                        <tr><td>Revolving Balance</td><td>&lt;$1000</td><td>But never ALL at $0</td></tr>
                        <tr><td>AAoA</td><td>~90 months</td><td>Believed max award</td></tr>
                        <tr><td>AoOA</td><td>36+ months</td><td>Mature scorecard</td></tr>
                        <tr><td>AoYRA</td><td>12+ months</td><td>No New Revolver bonus</td></tr>
                        <tr><td>Inquiries (12mo)</td><td>0</td><td>Penalty gone at 365 days</td></tr>
                        <tr><td>Number of Bankcards</td><td>5-7</td><td>Penalty for &lt;3</td></tr>
                    </tbody>
                </table>

                <h3>Key Thresholds</h3>
                <div class="results">
                    <div class="result-item">
                        <span class="result-label">60+ day late</span>
                        <span class="result-value danger">Dirty scorecard for 7 years</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">All-Zero balances</span>
                        <span class="result-value warning">10-25 point penalty</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">AoOA hits 36 months</span>
                        <span class="result-value">Mature scorecard (may drop then rise)</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">AoYRA hits 12 months</span>
                        <span class="result-value good">~10-20 point boost</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Inquiry at 365 days</span>
                        <span class="result-value good">Score impact removed</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Inquiry at 24-26 months</span>
                        <span class="result-value good">Falls off report</span>
                    </div>
                </div>

                <h3>Score Ranges</h3>
                <table>
                    <thead>
                        <tr><th>Rating</th><th>Range</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>Exceptional</td><td>800-850</td></tr>
                        <tr><td>Very Good</td><td>740-799</td></tr>
                        <tr><td>Good</td><td>670-739</td></tr>
                        <tr><td>Fair</td><td>580-669</td></tr>
                        <tr><td>Poor</td><td>300-579</td></tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Score Simulator -->
        <section id="simulator" class="tool-section">
            <div class="card">
                <h2>Score Simulator</h2>
                <p>See the estimated impact of actions before you take them. Select a scenario to see how it might affect your score.</p>

                <div class="form-group">
                    <label>Your current estimated score range</label>
                    <select id="sim-current-score">
                        <option value="800">800+ (Exceptional)</option>
                        <option value="750" selected>740-799 (Very Good)</option>
                        <option value="700">670-739 (Good)</option>
                        <option value="620">580-669 (Fair)</option>
                        <option value="550">Below 580 (Poor)</option>
                    </select>
                </div>

                <h3>What-If Scenarios</h3>
                <p style="margin-bottom:1rem;color:var(--text-muted);">Click a scenario to see estimated impact:</p>

                <div id="simulator-scenarios">
                    <div class="scenario-card" onclick="simulateScenario('pay-utilization')">
                        <div class="scenario-title">üí≥ Pay cards to &lt;9.5% utilization</div>
                        <div class="scenario-desc">Currently over 30% utilization</div>
                        <div class="scenario-impact good">+20 to +50 points</div>
                    </div>

                    <div class="scenario-card" onclick="simulateScenario('azeo')">
                        <div class="scenario-title">üéØ Implement AZEO strategy</div>
                        <div class="scenario-desc">From All-Zero or high utilization</div>
                        <div class="scenario-impact good">+10 to +30 points</div>
                    </div>

                    <div class="scenario-card" onclick="simulateScenario('new-card')">
                        <div class="scenario-title">üí≥ Open a new credit card</div>
                        <div class="scenario-desc">Hard inquiry + new account + lower AAoA</div>
                        <div class="scenario-impact warning">-5 to -20 points (short term)</div>
                    </div>

                    <div class="scenario-card" onclick="simulateScenario('close-card')">
                        <div class="scenario-title">‚ùå Close oldest credit card</div>
                        <div class="scenario-desc">Reduces available credit, may hurt AAoA later</div>
                        <div class="scenario-impact danger">-10 to -40 points</div>
                    </div>

                    <div class="scenario-card" onclick="simulateScenario('miss-payment')">
                        <div class="scenario-title">‚ö†Ô∏è Miss a payment (30 days late)</div>
                        <div class="scenario-desc">First late payment on clean profile</div>
                        <div class="scenario-impact danger">-60 to -110 points</div>
                    </div>

                    <div class="scenario-card" onclick="simulateScenario('collection')">
                        <div class="scenario-title">üìã Collection added to report</div>
                        <div class="scenario-desc">New collection account appears</div>
                        <div class="scenario-impact danger">-50 to -100+ points</div>
                    </div>

                    <div class="scenario-card" onclick="simulateScenario('inquiry-falloff')">
                        <div class="scenario-title">‚è∞ Wait for inquiry to age (12mo)</div>
                        <div class="scenario-desc">Hard inquiry stops affecting score</div>
                        <div class="scenario-impact good">+5 to +15 points</div>
                    </div>

                    <div class="scenario-card" onclick="simulateScenario('derog-age')">
                        <div class="scenario-title">üìÖ Negative item ages 2+ years</div>
                        <div class="scenario-desc">Late payment or collection gets older</div>
                        <div class="scenario-impact good">+10 to +30 points</div>
                    </div>

                    <div class="scenario-card" onclick="simulateScenario('mature-scorecard')">
                        <div class="scenario-title">üéÇ AoOA reaches 36 months</div>
                        <div class="scenario-desc">Move to "Mature" scorecard</div>
                        <div class="scenario-impact warning">-5 to +15 points (varies)</div>
                    </div>

                    <div class="scenario-card" onclick="simulateScenario('no-new-revolver')">
                        <div class="scenario-title">üå± AoYRA reaches 12 months</div>
                        <div class="scenario-desc">"No New Revolver" scorecard bonus</div>
                        <div class="scenario-impact good">+10 to +20 points</div>
                    </div>

                    <div class="scenario-card" onclick="simulateScenario('au-added')">
                        <div class="scenario-title">üë§ Added as Authorized User</div>
                        <div class="scenario-desc">On old account with good history</div>
                        <div class="scenario-impact good">+10 to +50 points</div>
                    </div>

                    <div class="scenario-card" onclick="simulateScenario('goodwill')">
                        <div class="scenario-title">üíå Goodwill removal approved</div>
                        <div class="scenario-desc">Late payment removed from report</div>
                        <div class="scenario-impact good">+20 to +80 points</div>
                    </div>
                </div>

                <div id="sim-result" class="results" style="display:none;margin-top:1.5rem;">
                    <h3 id="sim-result-title"></h3>
                    <div id="sim-result-content"></div>
                </div>
            </div>

            <div class="card">
                <h2>Score Impact Factors</h2>
                <p>How much each factor typically affects your score:</p>

                <table>
                    <thead>
                        <tr><th>Action</th><th>Typical Impact</th><th>Recovery Time</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>30-day late payment</td><td class="danger">-60 to -110</td><td>7 years to remove</td></tr>
                        <tr><td>60-day late payment</td><td class="danger">-70 to -120</td><td>7 years (dirty scorecard)</td></tr>
                        <tr><td>Collection account</td><td class="danger">-50 to -100+</td><td>7 years</td></tr>
                        <tr><td>Bankruptcy (Ch.7)</td><td class="danger">-130 to -240</td><td>10 years</td></tr>
                        <tr><td>Hard inquiry</td><td class="warning">-2 to -10</td><td>12 months</td></tr>
                        <tr><td>New account (AAoA drop)</td><td class="warning">-5 to -15</td><td>Recovers as account ages</td></tr>
                        <tr><td>High utilization (&gt;50%)</td><td class="danger">-20 to -50</td><td>1 billing cycle</td></tr>
                        <tr><td>All-Zero balances</td><td class="warning">-10 to -25</td><td>1 billing cycle</td></tr>
                        <tr><td>Closing old card</td><td class="warning">-10 to -40</td><td>Permanent AAoA impact</td></tr>
                        <tr><td>Pay down to &lt;9.5%</td><td class="good">+15 to +50</td><td>1 billing cycle</td></tr>
                        <tr><td>Remove collection (PFD)</td><td class="good">+20 to +100</td><td>Immediate</td></tr>
                        <tr><td>Goodwill removal</td><td class="good">+20 to +80</td><td>Immediate</td></tr>
                    </tbody>
                </table>

                <div class="tip" style="margin-top:1rem;">
                    <strong>Note:</strong> These are estimates based on community data. Actual impact varies based on your full credit profile, scorecard, and other factors. Higher scores tend to drop more from negative events.
                </div>
            </div>
        </section>

        <!-- Bank Rules Database -->
        <section id="bankrules" class="tool-section">
            <div class="card">
                <h2>Bank Rules Database</h2>
                <p>Known application rules, restrictions, and policies by issuer. Updated from community data points.</p>

                <div class="form-group">
                    <label>Search banks</label>
                    <input type="text" id="bank-search" placeholder="Type to filter..." oninput="filterBanks()">
                </div>

                <div id="bank-rules-list">
                    <!-- Chase -->
                    <div class="bank-rule-card" data-bank="chase">
                        <div class="bank-header">
                            <h3>Chase</h3>
                            <span class="bank-tag">Major Issuer</span>
                        </div>
                        <div class="bank-rules">
                            <div class="rule">
                                <span class="rule-name">5/24 Rule</span>
                                <span class="rule-desc">Denied if 5+ new cards (any issuer) in last 24 months. Applies to most cards.</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">2/30 Rule</span>
                                <span class="rule-desc">Max 2 Chase applications in 30 days.</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">One Sapphire Rule</span>
                                <span class="rule-desc">Can only hold one Sapphire card (Preferred OR Reserve, not both).</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">48-Month Sapphire Rule</span>
                                <span class="rule-desc">Can't get Sapphire bonus if received one in last 48 months.</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">Velocity</span>
                                <span class="rule-desc">Too many Chase cards too quickly may trigger shutdowns. Space out apps.</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">CLI</span>
                                <span class="rule-desc">Soft pull for CLI via Secure Message. Usually need 6+ months account age.</span>
                            </div>
                        </div>
                    </div>

                    <!-- American Express -->
                    <div class="bank-rule-card" data-bank="amex american express">
                        <div class="bank-header">
                            <h3>American Express</h3>
                            <span class="bank-tag">Major Issuer</span>
                        </div>
                        <div class="bank-rules">
                            <div class="rule">
                                <span class="rule-name">Once-Per-Lifetime</span>
                                <span class="rule-desc">Welcome bonus only once ever per card. Check via CardMatch or pre-qual.</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">1/5 Rule</span>
                                <span class="rule-desc">Max 1 credit card app per 5 days.</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">2/90 Rule</span>
                                <span class="rule-desc">Max 2 credit card approvals in 90 days.</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">4-5 Credit Card Limit</span>
                                <span class="rule-desc">Most can hold 4-5 Amex credit cards (charge cards don't count).</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">Pop-Up Jail</span>
                                <span class="rule-desc">Warning popup = no bonus. Caused by not using existing Amex cards enough.</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">CLI</span>
                                <span class="rule-desc">Soft pull CLI available in app/online. 3x CLI every 6 months typically.</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">Backdating</span>
                                <span class="rule-desc">AUs are NOT backdated. Only your own oldest Amex account date counts.</span>
                            </div>
                        </div>
                    </div>

                    <!-- Citi -->
                    <div class="bank-rule-card" data-bank="citi citibank">
                        <div class="bank-header">
                            <h3>Citi</h3>
                            <span class="bank-tag">Major Issuer</span>
                        </div>
                        <div class="bank-rules">
                            <div class="rule">
                                <span class="rule-name">1/8 Rule</span>
                                <span class="rule-desc">Only 1 Citi application every 8 days.</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">2/65 Rule</span>
                                <span class="rule-desc">Max 2 Citi approvals in 65 days.</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">1/48 Bonus Rule</span>
                                <span class="rule-desc">Can't get bonus on same card family if got one in last 48 months.</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">6/6 Rule</span>
                                <span class="rule-desc">May be denied if 6+ inquiries in last 6 months.</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">CLI</span>
                                <span class="rule-desc">Hard pull for CLI. Request online or via phone.</span>
                            </div>
                        </div>
                    </div>

                    <!-- Capital One -->
                    <div class="bank-rule-card" data-bank="capital one capitalone">
                        <div class="bank-header">
                            <h3>Capital One</h3>
                            <span class="bank-tag">Major Issuer</span>
                        </div>
                        <div class="bank-rules">
                            <div class="rule">
                                <span class="rule-name">3 Bureaus Pull</span>
                                <span class="rule-desc">Usually pulls all 3 bureaus (EQ, TU, EX) for applications.</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">1/6 Month Rule</span>
                                <span class="rule-desc">Generally 1 approval per 6 months. Denies if too recent.</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">CLI</span>
                                <span class="rule-desc">Soft pull for CLI. Request online. May need 6+ months.</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">Bucketing</span>
                                <span class="rule-desc">Cards may be "bucketed" with limited growth potential based on initial approval.</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">Pre-Qual</span>
                                <span class="rule-desc">Pre-qual page is soft pull and fairly accurate for approval.</span>
                            </div>
                        </div>
                    </div>

                    <!-- Discover -->
                    <div class="bank-rule-card" data-bank="discover">
                        <div class="bank-header">
                            <h3>Discover</h3>
                            <span class="bank-tag">Major Issuer</span>
                        </div>
                        <div class="bank-rules">
                            <div class="rule">
                                <span class="rule-name">1 Card Limit</span>
                                <span class="rule-desc">Can only have 1 Discover card at a time (It or Chrome, not both).</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">12-Month Rule</span>
                                <span class="rule-desc">Must wait 12 months after closing before new Discover card.</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">CLI</span>
                                <span class="rule-desc">Soft pull for CLI. Very generous with increases.</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">Pre-Qual</span>
                                <span class="rule-desc">Pre-qual is soft pull. High approval rate if pre-qualified.</span>
                            </div>
                        </div>
                    </div>

                    <!-- Bank of America -->
                    <div class="bank-rule-card" data-bank="bank of america bofa boa">
                        <div class="bank-header">
                            <h3>Bank of America</h3>
                            <span class="bank-tag">Major Issuer</span>
                        </div>
                        <div class="bank-rules">
                            <div class="rule">
                                <span class="rule-name">2/3/4 Rule</span>
                                <span class="rule-desc">Max 2 cards in 30 days, 3 in 12 months, 4 in 24 months.</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">7/12 Rule</span>
                                <span class="rule-desc">May deny if 7+ new accounts (any bank) in last 12 months.</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">CLI</span>
                                <span class="rule-desc">Usually soft pull for CLI online. Wait 6+ months between requests.</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">Relationship</span>
                                <span class="rule-desc">Banking relationship (checking/savings) improves approval odds.</span>
                            </div>
                        </div>
                    </div>

                    <!-- Wells Fargo -->
                    <div class="bank-rule-card" data-bank="wells fargo wellsfargo">
                        <div class="bank-header">
                            <h3>Wells Fargo</h3>
                            <span class="bank-tag">Major Issuer</span>
                        </div>
                        <div class="bank-rules">
                            <div class="rule">
                                <span class="rule-name">Relationship</span>
                                <span class="rule-desc">Much easier approval with existing WF banking relationship.</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">Cell Phone Protection</span>
                                <span class="rule-desc">Active Cell phone card includes cell phone protection benefit.</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">CLI</span>
                                <span class="rule-desc">Usually soft pull. Request online or call.</span>
                            </div>
                        </div>
                    </div>

                    <!-- US Bank -->
                    <div class="bank-rule-card" data-bank="us bank usbank">
                        <div class="bank-header">
                            <h3>US Bank</h3>
                            <span class="bank-tag">Major Issuer</span>
                        </div>
                        <div class="bank-rules">
                            <div class="rule">
                                <span class="rule-name">Inquiry Sensitive</span>
                                <span class="rule-desc">Very sensitive to recent inquiries. Best with 0-1 in 6 months.</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">Relationship</span>
                                <span class="rule-desc">Banking/checking relationship significantly helps approval.</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">CLI</span>
                                <span class="rule-desc">Hard pull for CLI requests.</span>
                            </div>
                        </div>
                    </div>

                    <!-- Barclays -->
                    <div class="bank-rule-card" data-bank="barclays">
                        <div class="bank-header">
                            <h3>Barclays</h3>
                            <span class="bank-tag">Major Issuer</span>
                        </div>
                        <div class="bank-rules">
                            <div class="rule">
                                <span class="rule-name">6/24 Rule</span>
                                <span class="rule-desc">May deny if 6+ new accounts in 24 months.</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">Inquiry Sensitive</span>
                                <span class="rule-desc">Prefers fewer recent inquiries. 0-2 in 6 months is best.</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">CLI</span>
                                <span class="rule-desc">Usually soft pull for CLI via online account.</span>
                            </div>
                        </div>
                    </div>

                    <!-- Synchrony -->
                    <div class="bank-rule-card" data-bank="synchrony">
                        <div class="bank-header">
                            <h3>Synchrony</h3>
                            <span class="bank-tag">Store Cards</span>
                        </div>
                        <div class="bank-rules">
                            <div class="rule">
                                <span class="rule-name">Store Card Issuer</span>
                                <span class="rule-desc">Issues many store cards: Amazon, PayPal, Lowes, Care Credit, etc.</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">Soft Pull Pre-Qual</span>
                                <span class="rule-desc">Most Synchrony cards have soft pull pre-qualification.</span>
                            </div>
                            <div class="rule">
                                <span class="rule-name">CLI</span>
                                <span class="rule-desc">Soft pull for CLI. Request via each card's online portal.</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h2>CLI (Credit Limit Increase) Quick Reference</h2>
                <table>
                    <thead>
                        <tr><th>Bank</th><th>HP/SP</th><th>How to Request</th><th>Timing</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>Chase</td><td class="good">Soft Pull</td><td>Secure Message</td><td>6+ months</td></tr>
                        <tr><td>Amex</td><td class="good">Soft Pull</td><td>App or Website</td><td>61+ days, 3x/6mo</td></tr>
                        <tr><td>Citi</td><td class="danger">Hard Pull</td><td>Online or Phone</td><td>6+ months</td></tr>
                        <tr><td>Capital One</td><td class="good">Soft Pull</td><td>Online</td><td>6+ months</td></tr>
                        <tr><td>Discover</td><td class="good">Soft Pull</td><td>Online or App</td><td>Any time</td></tr>
                        <tr><td>Bank of America</td><td class="good">Soft Pull*</td><td>Online</td><td>6+ months</td></tr>
                        <tr><td>Wells Fargo</td><td class="good">Soft Pull*</td><td>Online or Phone</td><td>6+ months</td></tr>
                        <tr><td>US Bank</td><td class="danger">Hard Pull</td><td>Online or Phone</td><td>6+ months</td></tr>
                        <tr><td>Barclays</td><td class="good">Soft Pull</td><td>Online</td><td>6+ months</td></tr>
                        <tr><td>Synchrony</td><td class="good">Soft Pull</td><td>Card's Portal</td><td>6+ months</td></tr>
                    </tbody>
                </table>
                <p style="font-size:0.85rem;color:var(--text-muted);margin-top:0.5rem;">*Usually soft pull but may vary. Always confirm current policy.</p>
            </div>
        </section>

        <!-- Dispute Letter Templates -->
        <section id="disputes" class="tool-section">
            <div class="card">
                <h2>Dispute Letter Templates</h2>
                <p>Use these templates to dispute inaccurate information on your credit reports. Only dispute items that are genuinely incorrect.</p>

                <div class="tip">
                    <strong>Important:</strong> These templates are for disputing <em>inaccurate</em> information only. Disputing accurate information is unlikely to succeed and may be considered fraud. For accurate negative items, consider goodwill letters instead.
                </div>

                <h3>Bureau Contact Information</h3>
                <div class="grid" style="margin-bottom:1.5rem;">
                    <div class="stat-card" style="text-align:left;padding:1rem;">
                        <strong>Equifax</strong><br>
                        P.O. Box 740256<br>
                        Atlanta, GA 30348<br>
                        <a href="https://www.equifax.com/personal/credit-report-services/credit-dispute/" target="_blank">Online Dispute</a>
                    </div>
                    <div class="stat-card" style="text-align:left;padding:1rem;">
                        <strong>Experian</strong><br>
                        P.O. Box 4500<br>
                        Allen, TX 75013<br>
                        <a href="https://www.experian.com/disputes/main.html" target="_blank">Online Dispute</a>
                    </div>
                    <div class="stat-card" style="text-align:left;padding:1rem;">
                        <strong>TransUnion</strong><br>
                        P.O. Box 2000<br>
                        Chester, PA 19016<br>
                        <a href="https://www.transunion.com/credit-disputes/dispute-your-credit" target="_blank">Online Dispute</a>
                    </div>
                </div>

                <h3>Select a Template</h3>
                <div class="form-group">
                    <select id="dispute-template-select" onchange="showDisputeTemplate()">
                        <option value="">-- Select a template --</option>
                        <option value="not-mine">Account Not Mine (Identity Error)</option>
                        <option value="wrong-balance">Incorrect Balance</option>
                        <option value="wrong-status">Incorrect Account Status</option>
                        <option value="wrong-late">Incorrect Late Payment</option>
                        <option value="paid-collection">Paid Collection Still Showing</option>
                        <option value="old-debt">Debt Past 7-Year Limit</option>
                        <option value="duplicate">Duplicate Account</option>
                        <option value="wrong-info">Incorrect Personal Information</option>
                        <option value="unauthorized-inquiry">Unauthorized Hard Inquiry</option>
                    </select>
                </div>

                <div id="dispute-template-container" style="display:none;">
                    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:0.5rem;">
                        <h3 id="dispute-template-title">Template</h3>
                        <button class="secondary" onclick="copyDisputeTemplate()">üìã Copy to Clipboard</button>
                    </div>
                    <textarea id="dispute-template-text" style="width:100%;height:400px;font-family:monospace;font-size:0.9rem;padding:1rem;border:1px solid var(--border);border-radius:6px;"></textarea>

                    <div class="tip" style="margin-top:1rem;">
                        <strong>Tips:</strong>
                        <ul style="margin:0.5rem 0 0 1.5rem;">
                            <li>Replace all [BRACKETED] text with your information</li>
                            <li>Send via certified mail with return receipt (CMRRR)</li>
                            <li>Keep copies of everything you send</li>
                            <li>Include copies (not originals) of supporting documents</li>
                            <li>Bureaus have 30 days to investigate (45 if you send docs)</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="card">
                <h2>Dispute Process Timeline</h2>
                <div class="timeline-item">
                    <div class="date">Day 1</div>
                    <div class="event">Send dispute letter via certified mail (CMRRR)</div>
                </div>
                <div class="timeline-item">
                    <div class="date">Day 3-5</div>
                    <div class="event">Bureau receives letter, investigation begins</div>
                </div>
                <div class="timeline-item">
                    <div class="date">Day 5-30</div>
                    <div class="event">Bureau contacts creditor, creditor must verify</div>
                </div>
                <div class="timeline-item">
                    <div class="date">Day 30-45</div>
                    <div class="event">Bureau must complete investigation and respond</div>
                </div>
                <div class="timeline-item">
                    <div class="date">After Response</div>
                    <div class="event">If not resolved: dispute directly with creditor or escalate</div>
                </div>
            </div>
        </section>

        <!-- Settings / Data Management -->
        <section id="settings" class="tool-section">
            <div class="card">
                <h2>Data Management</h2>
                <p>Your data is stored locally in your browser. It never leaves your device.</p>

                <h3>Storage Status</h3>
                <div class="results" id="storage-status">
                    <div class="result-item">
                        <span class="result-label">Accounts (AAoA)</span>
                        <span class="result-value" id="storage-accounts">0</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Credit Cards (Utilization)</span>
                        <span class="result-value" id="storage-cards">0</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">AZEO Cards</span>
                        <span class="result-value" id="storage-azeo">0</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Inquiries</span>
                        <span class="result-value" id="storage-inquiries">0</span>
                    </div>
                    <div class="result-item">
                        <span class="result-label">Derogatory Items</span>
                        <span class="result-value" id="storage-derogatories">0</span>
                    </div>
                </div>

                <h3>Clear Data</h3>
                <p style="margin-bottom:1rem;">Select which data to clear:</p>

                <div style="display:flex;flex-wrap:wrap;gap:0.5rem;margin-bottom:1rem;">
                    <button class="secondary" onclick="clearData('accounts')">Clear Accounts</button>
                    <button class="secondary" onclick="clearData('cards')">Clear Cards</button>
                    <button class="secondary" onclick="clearData('azeo')">Clear AZEO</button>
                    <button class="secondary" onclick="clearData('inquiries')">Clear Inquiries</button>
                    <button class="secondary" onclick="clearData('derogatories')">Clear Derogatories</button>
                </div>

                <button class="primary" style="background:var(--danger);" onclick="clearAllData()">üóëÔ∏è Clear All Data</button>

                <h3 style="margin-top:2rem;">Export / Import</h3>
                <p>Backup your data or transfer it to another browser.</p>

                <div style="display:flex;gap:0.5rem;margin-top:1rem;flex-wrap:wrap;">
                    <button class="primary" onclick="exportData()">üì• Export Data (JSON)</button>
                    <label class="primary" style="display:inline-block;padding:0.75rem 1.5rem;border-radius:6px;cursor:pointer;background:var(--primary);">
                        üì§ Import Data
                        <input type="file" accept=".json" onchange="importData(event)" style="display:none;">
                    </label>
                </div>
            </div>

            <div class="card">
                <h2>About This Tool</h2>
                <p>This toolkit is based on the <strong>Credit Scoring Primer</strong> by Birdman (1976-2023), preserved from Credit Rebels.</p>

                <h3>Privacy</h3>
                <ul style="margin-left:1.5rem;">
                    <li>All data is stored locally in your browser (localStorage)</li>
                    <li>No data is ever sent to any server</li>
                    <li>No cookies, no tracking, no analytics</li>
                    <li>Clearing your browser data will clear this tool's data</li>
                </ul>

                <h3 style="margin-top:1rem;">Source</h3>
                <p>View the source code and documentation on <a href="https://github.com/Acelogic/CreditRebelsArchive" target="_blank">GitHub</a>.</p>

                <h3 style="margin-top:1rem;">Disclaimer</h3>
                <p style="font-size:0.9rem;color:var(--text-muted);">
                    This tool is for educational purposes only. It is not financial advice.
                    FICO scoring is proprietary and this information is based on reverse-engineering
                    and community research. Your actual scores may vary.
                </p>
            </div>
        </section>
    </main>

    <footer>
        <p>Based on the <a href="https://github.com/Acelogic/CreditRebelsArchive">Credit Scoring Primer</a> by Birdman</p>
        <p>This is educational information only, not financial advice.</p>
    </footer>

    <script>
        // Tab Navigation
        document.querySelectorAll('nav button').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('nav button').forEach(b => b.classList.remove('active'));
                document.querySelectorAll('.tool-section').forEach(s => s.classList.remove('active'));
                btn.classList.add('active');
                document.getElementById(btn.dataset.tab).classList.add('active');
            });
        });

        // Data Storage
        let accounts = JSON.parse(localStorage.getItem('cr_accounts') || '[]');
        let cards = JSON.parse(localStorage.getItem('cr_cards') || '[]');
        let azeoCards = JSON.parse(localStorage.getItem('cr_azeo') || '[]');
        let inquiries = JSON.parse(localStorage.getItem('cr_inquiries') || '[]');
        let derogatories = JSON.parse(localStorage.getItem('cr_derogatories') || '[]');

        // Utility Functions
        function monthsBetween(date1, date2) {
            const d1 = new Date(date1);
            const d2 = new Date(date2);
            let months = (d2.getFullYear() - d1.getFullYear()) * 12;
            months += d2.getMonth() - d1.getMonth();
            if (d2.getDate() < d1.getDate()) months--;
            return Math.max(0, months);
        }

        function formatMonths(months) {
            const years = Math.floor(months / 12);
            const mo = months % 12;
            if (years === 0) return `${mo}mo`;
            if (mo === 0) return `${years}yr`;
            return `${years}yr ${mo}mo`;
        }

        function formatCurrency(num) {
            return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 0 }).format(num);
        }

        function formatDate(dateStr) {
            return new Date(dateStr).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
        }

        function isRevolving(type) {
            return ['bankcard', 'retail', 'charge', 'heloc'].includes(type);
        }

        // AAoA Calculator
        function addAccount() {
            const name = document.getElementById('acct-name').value.trim();
            const date = document.getElementById('acct-date').value;
            const type = document.getElementById('acct-type').value;

            if (!name || !date) {
                alert('Please enter account name and date');
                return;
            }

            accounts.push({ name, date, type });
            localStorage.setItem('cr_accounts', JSON.stringify(accounts));
            document.getElementById('acct-name').value = '';
            document.getElementById('acct-date').value = '';
            renderAccounts();
        }

        function removeAccount(index) {
            accounts.splice(index, 1);
            localStorage.setItem('cr_accounts', JSON.stringify(accounts));
            renderAccounts();
        }

        function renderAccounts() {
            const list = document.getElementById('accounts-list');
            const results = document.getElementById('aaoa-results');

            if (accounts.length === 0) {
                list.innerHTML = '<p style="color:var(--text-muted);padding:1rem;">No accounts added yet.</p>';
                results.style.display = 'none';
                return;
            }

            const today = new Date();
            list.innerHTML = accounts.map((a, i) => {
                const months = monthsBetween(a.date, today);
                return `
                    <div class="account-item">
                        <div class="info">
                            <div class="name">${a.name}</div>
                            <div class="details">${a.type} ‚Ä¢ Opened ${formatDate(a.date)} ‚Ä¢ Age: ${formatMonths(months)}</div>
                        </div>
                        <button onclick="removeAccount(${i})">‚úï</button>
                    </div>
                `;
            }).join('');

            // Calculate metrics
            const ages = accounts.map(a => monthsBetween(a.date, today));
            const revolvingAges = accounts.filter(a => isRevolving(a.type)).map(a => monthsBetween(a.date, today));

            const aaoa = ages.reduce((a, b) => a + b, 0) / ages.length;
            const aooa = Math.max(...ages);
            const aoya = Math.min(...ages);
            const aoyra = revolvingAges.length > 0 ? Math.min(...revolvingAges) : null;

            document.getElementById('aaoa-value').textContent = formatMonths(Math.round(aaoa));
            document.getElementById('aooa-value').textContent = formatMonths(aooa);
            document.getElementById('aoya-value').textContent = formatMonths(aoya);
            document.getElementById('aoyra-value').textContent = aoyra !== null ? formatMonths(aoyra) : 'N/A';

            // Chase 5/24
            const cardTypes = ['bankcard', 'retail', 'charge'];
            const recentCards = accounts.filter(a =>
                cardTypes.includes(a.type) && monthsBetween(a.date, today) < 24
            );
            const chaseCount = recentCards.length;
            document.getElementById('chase-count').textContent = chaseCount;
            document.getElementById('chase-status').textContent = chaseCount >= 5 ? 'OVER 5/24' : 'UNDER 5/24';
            document.getElementById('chase-status').className = 'result-value ' + (chaseCount >= 5 ? 'danger' : 'good');
            document.getElementById('chase-slots').textContent = Math.max(0, 5 - chaseCount);

            // Scorecard estimation
            const numAccounts = accounts.length;
            const thick = numAccounts >= 4;
            const mature = aooa >= 36;
            const noNewRevolver = aoyra === null || aoyra >= 12;

            const scorecard = `${thick ? 'Thick' : 'Thin'} / ${mature ? 'Mature' : 'Young'} / ${noNewRevolver ? 'No New Revolver' : 'New Revolver'}`;

            let insights = [];
            if (!mature) insights.push(`‚è≥ ${36 - aooa} months until Mature scorecard`);
            if (!noNewRevolver && aoyra !== null) insights.push(`‚è≥ ${12 - aoyra} months until No New Revolver bonus (~10-20 pts)`);
            if (aaoa < 90) insights.push(`üìà AAoA approaching optimal (90mo believed max)`);
            if (mature && noNewRevolver && thick) insights.push(`‚≠ê You're on the best clean scorecard!`);

            document.getElementById('scorecard-result').innerHTML = `
                <div class="result-item">
                    <span class="result-label">Estimated Scorecard</span>
                    <span class="result-value">${scorecard}</span>
                </div>
                ${insights.map(i => `<p style="margin-top:0.5rem;">${i}</p>`).join('')}
            `;

            results.style.display = 'block';
        }

        // Utilization Optimizer
        function addCard() {
            const name = document.getElementById('card-name').value.trim();
            const limit = parseFloat(document.getElementById('card-limit').value) || 0;
            const balance = parseFloat(document.getElementById('card-balance').value) || 0;

            if (!name || limit <= 0) {
                alert('Please enter card name and credit limit');
                return;
            }

            cards.push({ name, limit, balance });
            localStorage.setItem('cr_cards', JSON.stringify(cards));
            document.getElementById('card-name').value = '';
            document.getElementById('card-limit').value = '';
            document.getElementById('card-balance').value = '';
            renderCards();
        }

        function removeCard(index) {
            cards.splice(index, 1);
            localStorage.setItem('cr_cards', JSON.stringify(cards));
            renderCards();
        }

        function renderCards() {
            const list = document.getElementById('cards-list');
            const results = document.getElementById('util-results');

            if (cards.length === 0) {
                list.innerHTML = '<p style="color:var(--text-muted);padding:1rem;">No cards added yet.</p>';
                results.style.display = 'none';
                return;
            }

            list.innerHTML = cards.map((c, i) => {
                const util = ((c.balance / c.limit) * 100).toFixed(1);
                return `
                    <div class="account-item">
                        <div class="info">
                            <div class="name">${c.name}</div>
                            <div class="details">Limit: ${formatCurrency(c.limit)} ‚Ä¢ Balance: ${formatCurrency(c.balance)} ‚Ä¢ Util: ${util}%</div>
                        </div>
                        <button onclick="removeCard(${i})">‚úï</button>
                    </div>
                `;
            }).join('');

            const totalLimit = cards.reduce((a, c) => a + c.limit, 0);
            const totalBalance = cards.reduce((a, c) => a + c.balance, 0);
            const currentUtil = (totalBalance / totalLimit) * 100;

            document.getElementById('current-util').textContent = currentUtil.toFixed(1) + '%';
            document.getElementById('current-util').className = 'value ' + (currentUtil < 9.5 ? '' : 'danger');
            document.getElementById('total-limit').textContent = formatCurrency(totalLimit);
            document.getElementById('total-balance').textContent = formatCurrency(totalBalance);

            const target9 = totalLimit * 0.095;
            const target4 = totalLimit * 0.045;
            const paydown9 = Math.max(0, totalBalance - target9);
            const paydown4 = Math.max(0, totalBalance - target4);

            document.getElementById('target-9').textContent = formatCurrency(target9);
            document.getElementById('target-4').textContent = formatCurrency(target4);
            document.getElementById('paydown-9').textContent = paydown9 > 0 ? formatCurrency(paydown9) : '‚úì Already there!';
            document.getElementById('paydown-9').className = 'result-value ' + (paydown9 > 0 ? 'warning' : 'good');
            document.getElementById('paydown-4').textContent = paydown4 > 0 ? formatCurrency(paydown4) : '‚úì Already there!';
            document.getElementById('paydown-4').className = 'result-value ' + (paydown4 > 0 ? 'warning' : 'good');

            // Per-card analysis
            const tbody = document.querySelector('#card-analysis tbody');
            tbody.innerHTML = cards.map(c => {
                const util = (c.balance / c.limit) * 100;
                let status = 'good';
                let statusText = '‚úì Good';
                if (util >= 30) { status = 'danger'; statusText = '‚ö† High'; }
                else if (util >= 9.5) { status = 'warning'; statusText = '‚Üì Lower'; }
                return `
                    <tr>
                        <td>${c.name}</td>
                        <td>${formatCurrency(c.limit)}</td>
                        <td>${formatCurrency(c.balance)}</td>
                        <td>${util.toFixed(1)}%</td>
                        <td class="${status}">${statusText}</td>
                    </tr>
                `;
            }).join('');

            results.style.display = 'block';
        }

        // AZEO Planner
        function addAzeoCard() {
            const name = document.getElementById('azeo-card-name').value.trim();
            const day = parseInt(document.getElementById('azeo-statement-day').value) || 0;
            const limit = parseFloat(document.getElementById('azeo-limit').value) || 0;

            if (!name || day < 1 || day > 31) {
                alert('Please enter card name and valid statement day (1-31)');
                return;
            }

            azeoCards.push({ name, day, limit });
            localStorage.setItem('cr_azeo', JSON.stringify(azeoCards));
            document.getElementById('azeo-card-name').value = '';
            document.getElementById('azeo-statement-day').value = '';
            document.getElementById('azeo-limit').value = '';
            renderAzeo();
        }

        function removeAzeoCard(index) {
            azeoCards.splice(index, 1);
            localStorage.setItem('cr_azeo', JSON.stringify(azeoCards));
            renderAzeo();
        }

        function renderAzeo() {
            const list = document.getElementById('azeo-cards-list');
            const results = document.getElementById('azeo-results');

            if (azeoCards.length === 0) {
                list.innerHTML = '<p style="color:var(--text-muted);padding:1rem;">No cards added yet.</p>';
                results.style.display = 'none';
                return;
            }

            list.innerHTML = azeoCards.map((c, i) => `
                <div class="account-item">
                    <div class="info">
                        <div class="name">${c.name}</div>
                        <div class="details">Statement closes: Day ${c.day}${c.limit ? ' ‚Ä¢ Limit: ' + formatCurrency(c.limit) : ''}</div>
                    </div>
                    <button onclick="removeAzeoCard(${i})">‚úï</button>
                </div>
            `).join('');

            // Sort by statement day
            const sorted = [...azeoCards].sort((a, b) => a.day - b.day);

            // Find the card with highest limit to leave balance on
            const cardWithBalance = azeoCards.reduce((max, c) => (!max || c.limit > max.limit) ? c : max, null);
            const targetBalance = cardWithBalance && cardWithBalance.limit ? Math.min(50, cardWithBalance.limit * 0.01) : 10;

            document.getElementById('azeo-plan').innerHTML = `
                <div class="result-item">
                    <span class="result-label">Card to leave balance on</span>
                    <span class="result-value good">${cardWithBalance ? cardWithBalance.name : sorted[0].name}</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Target balance to leave</span>
                    <span class="result-value">${formatCurrency(targetBalance)} (1-9% of limit)</span>
                </div>
                <div class="result-item">
                    <span class="result-label">All other cards</span>
                    <span class="result-value">Pay to $0 before statement date</span>
                </div>
            `;

            document.getElementById('azeo-schedule').innerHTML = sorted.map(c => {
                const isBalanceCard = cardWithBalance && c.name === cardWithBalance.name;
                return `
                    <div class="timeline-item">
                        <div class="date">Day ${c.day}: ${c.name}</div>
                        <div class="event">${isBalanceCard ?
                            `‚úì Leave ~${formatCurrency(targetBalance)} balance to report` :
                            '‚Üí Pay to $0 before this date'}</div>
                    </div>
                `;
            }).join('');

            results.style.display = 'block';
        }

        // Inquiry Tracker
        function addInquiry() {
            const name = document.getElementById('inq-name').value.trim();
            const date = document.getElementById('inq-date').value;

            if (!name || !date) {
                alert('Please enter creditor name and inquiry date');
                return;
            }

            inquiries.push({ name, date });
            localStorage.setItem('cr_inquiries', JSON.stringify(inquiries));
            document.getElementById('inq-name').value = '';
            document.getElementById('inq-date').value = '';
            renderInquiries();
        }

        function removeInquiry(index) {
            inquiries.splice(index, 1);
            localStorage.setItem('cr_inquiries', JSON.stringify(inquiries));
            renderInquiries();
        }

        function renderInquiries() {
            const list = document.getElementById('inquiries-list');
            const results = document.getElementById('inq-results');

            if (inquiries.length === 0) {
                list.innerHTML = '<p style="color:var(--text-muted);padding:1rem;">No inquiries added yet.</p>';
                results.style.display = 'none';
                return;
            }

            const today = new Date();
            list.innerHTML = inquiries.map((inq, i) => {
                const months = monthsBetween(inq.date, today);
                return `
                    <div class="account-item">
                        <div class="info">
                            <div class="name">${inq.name}</div>
                            <div class="details">${formatDate(inq.date)} ‚Ä¢ ${formatMonths(months)} ago</div>
                        </div>
                        <button onclick="removeInquiry(${i})">‚úï</button>
                    </div>
                `;
            }).join('');

            // Timeline
            document.getElementById('inq-timeline').innerHTML = inquiries.map(inq => {
                const inqDate = new Date(inq.date);
                const months = monthsBetween(inq.date, today);
                const scoreImpactDate = new Date(inqDate);
                scoreImpactDate.setFullYear(scoreImpactDate.getFullYear() + 1);
                const fallOffDate = new Date(inqDate);
                fallOffDate.setMonth(fallOffDate.getMonth() + 25);

                const scoreImpactGone = today >= scoreImpactDate;
                const fallenOff = today >= fallOffDate;

                return `
                    <div class="timeline-item ${fallenOff ? 'complete' : ''}">
                        <div class="date">${inq.name}</div>
                        <div class="event">
                            ${scoreImpactGone ?
                                '‚úì Score impact removed' :
                                `‚è≥ Score impact ends: ${formatDate(scoreImpactDate)}`}
                            <br>
                            ${fallenOff ?
                                '‚úì Fallen off report' :
                                `‚è≥ Falls off report: ~${formatDate(fallOffDate)}`}
                        </div>
                    </div>
                `;
            }).join('');

            results.style.display = 'block';
        }

        // Derogatory Tracker
        function addDerogatory() {
            const name = document.getElementById('derog-name').value.trim();
            const date = document.getElementById('derog-date').value;
            const type = document.getElementById('derog-type').value;

            if (!name || !date) {
                alert('Please enter item name and date');
                return;
            }

            derogatories.push({ name, date, type });
            localStorage.setItem('cr_derogatories', JSON.stringify(derogatories));
            document.getElementById('derog-name').value = '';
            document.getElementById('derog-date').value = '';
            renderDerogatories();
        }

        function removeDerogatory(index) {
            derogatories.splice(index, 1);
            localStorage.setItem('cr_derogatories', JSON.stringify(derogatories));
            renderDerogatories();
        }

        function renderDerogatories() {
            const list = document.getElementById('derog-list');
            const results = document.getElementById('derog-results');

            const typeLabels = {
                '30late': '30 Day Late',
                '60late': '60 Day Late',
                '90late': '90+ Day Late',
                'collection': 'Collection',
                'chargeoff': 'Charge-Off',
                'bk7': 'Bankruptcy Ch.7',
                'bk13': 'Bankruptcy Ch.13'
            };

            if (derogatories.length === 0) {
                list.innerHTML = '<p style="color:var(--text-muted);padding:1rem;">No derogatory items added.</p>';
                results.style.display = 'none';
                return;
            }

            const today = new Date();
            list.innerHTML = derogatories.map((d, i) => {
                const months = monthsBetween(d.date, today);
                return `
                    <div class="account-item">
                        <div class="info">
                            <div class="name">${d.name}</div>
                            <div class="details">${typeLabels[d.type]} ‚Ä¢ ${formatDate(d.date)} ‚Ä¢ ${formatMonths(months)} ago</div>
                        </div>
                        <button onclick="removeDerogatory(${i})">‚úï</button>
                    </div>
                `;
            }).join('');

            // Timeline with fall-off dates
            document.getElementById('derog-timeline').innerHTML = derogatories.map(d => {
                const derogDate = new Date(d.date);
                const months = monthsBetween(d.date, today);

                let fallOffYears = 7;
                if (d.type === 'bk7') fallOffYears = 10;
                if (d.type === 'bk13') fallOffYears = 7;

                const fallOffDate = new Date(derogDate);
                fallOffDate.setFullYear(fallOffDate.getFullYear() + fallOffYears);

                const fallenOff = today >= fallOffDate;
                const monthsRemaining = monthsBetween(today, fallOffDate);

                // Dirty scorecard for 60+ lates
                let dirtyNote = '';
                if (['60late', '90late', 'collection', 'chargeoff', 'bk7', 'bk13'].includes(d.type)) {
                    const dirtyEndDate = new Date(derogDate);
                    dirtyEndDate.setFullYear(dirtyEndDate.getFullYear() + 7);
                    if (today < dirtyEndDate) {
                        dirtyNote = `<br>‚ö† On dirty scorecard until: ${formatDate(dirtyEndDate)}`;
                    }
                }

                return `
                    <div class="timeline-item ${fallenOff ? 'complete' : ''}">
                        <div class="date">${d.name} (${typeLabels[d.type]})</div>
                        <div class="event">
                            ${fallenOff ?
                                '‚úì Should have fallen off report' :
                                `‚è≥ Falls off: ${formatDate(fallOffDate)} (${formatMonths(monthsRemaining)} remaining)`}
                            ${dirtyNote}
                        </div>
                    </div>
                `;
            }).join('');

            results.style.display = 'block';
        }

        // Scorecard Estimator
        document.getElementById('sc-clean').addEventListener('change', function() {
            document.getElementById('clean-questions').style.display = this.value === 'clean' ? 'block' : 'none';
            document.getElementById('dirty-questions').style.display = this.value === 'dirty' ? 'block' : 'none';
        });

        function estimateScorecard() {
            const isClean = document.getElementById('sc-clean').value === 'clean';
            const results = document.getElementById('sc-results');
            let scorecard = '';
            let insights = [];

            if (isClean) {
                const accounts = parseInt(document.getElementById('sc-accounts').value) || 0;
                const aooa = parseInt(document.getElementById('sc-aooa').value) || 0;
                const aoyra = parseInt(document.getElementById('sc-aoyra').value) || 0;

                const thick = accounts >= 4;
                const mature = aooa >= 36;
                const noNewRevolver = aoyra >= 12 || aoyra === 0;

                scorecard = `<span class="scorecard-badge">${thick ? 'Thick' : 'Thin'}</span>
                            <span class="scorecard-badge">${mature ? 'Mature' : 'Young'}</span>
                            <span class="scorecard-badge">${noNewRevolver ? 'No New Revolver' : 'New Revolver'}</span>`;

                if (!thick) insights.push(`Add ${4 - accounts} more accounts to become "Thick"`);
                if (!mature) insights.push(`${36 - aooa} months until "Mature" scorecard (may cause temporary dip then recovery)`);
                if (!noNewRevolver) insights.push(`${12 - aoyra} months until "No New Revolver" bonus (~10-20 points)`);
                if (thick && mature && noNewRevolver) insights.push(`‚≠ê You're on the optimal clean scorecard!`);

            } else {
                const hasPR = document.getElementById('sc-pr').value === 'yes';
                const isRecent = document.getElementById('sc-recency').value === 'recent';

                scorecard = `<span class="scorecard-badge">${hasPR ? 'Public Record' : 'Delinquency'}</span>
                            <span class="scorecard-badge">${isRecent ? 'Recent' : 'Mature'}</span>`;

                insights.push('You are on a dirty scorecard - this limits your maximum score');
                if (isRecent) insights.push('As the negative item ages, you may move to the "Mature" dirty scorecard');
                insights.push('After 7 years (10 for Ch.7 BK), you will return to a clean scorecard');
            }

            document.getElementById('sc-scorecard').innerHTML = scorecard;
            document.getElementById('sc-insights').innerHTML = insights.map(i => `<p style="margin:0.5rem 0;">‚Üí ${i}</p>`).join('');
            results.style.display = 'block';
        }

        // Data Management Functions
        function updateStorageStatus() {
            document.getElementById('storage-accounts').textContent = accounts.length;
            document.getElementById('storage-cards').textContent = cards.length;
            document.getElementById('storage-azeo').textContent = azeoCards.length;
            document.getElementById('storage-inquiries').textContent = inquiries.length;
            document.getElementById('storage-derogatories').textContent = derogatories.length;
        }

        function clearData(type) {
            if (!confirm(`Are you sure you want to clear all ${type} data?`)) return;

            switch(type) {
                case 'accounts':
                    accounts = [];
                    localStorage.removeItem('cr_accounts');
                    renderAccounts();
                    break;
                case 'cards':
                    cards = [];
                    localStorage.removeItem('cr_cards');
                    renderCards();
                    break;
                case 'azeo':
                    azeoCards = [];
                    localStorage.removeItem('cr_azeo');
                    renderAzeo();
                    break;
                case 'inquiries':
                    inquiries = [];
                    localStorage.removeItem('cr_inquiries');
                    renderInquiries();
                    break;
                case 'derogatories':
                    derogatories = [];
                    localStorage.removeItem('cr_derogatories');
                    renderDerogatories();
                    break;
            }
            updateStorageStatus();
        }

        function clearAllData() {
            if (!confirm('Are you sure you want to clear ALL data? This cannot be undone.')) return;
            if (!confirm('Really delete everything?')) return;

            accounts = [];
            cards = [];
            azeoCards = [];
            inquiries = [];
            derogatories = [];

            localStorage.removeItem('cr_accounts');
            localStorage.removeItem('cr_cards');
            localStorage.removeItem('cr_azeo');
            localStorage.removeItem('cr_inquiries');
            localStorage.removeItem('cr_derogatories');

            renderAccounts();
            renderCards();
            renderAzeo();
            renderInquiries();
            renderDerogatories();
            updateStorageStatus();

            alert('All data cleared!');
        }

        function exportData() {
            const data = {
                version: 1,
                exported: new Date().toISOString(),
                accounts,
                cards,
                azeoCards,
                inquiries,
                derogatories
            };

            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `credit-toolkit-backup-${new Date().toISOString().split('T')[0]}.json`;
            a.click();
            URL.revokeObjectURL(url);
        }

        function importData(event) {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const data = JSON.parse(e.target.result);

                    if (!confirm(`Import ${data.accounts?.length || 0} accounts, ${data.cards?.length || 0} cards, ${data.inquiries?.length || 0} inquiries? This will replace your current data.`)) {
                        return;
                    }

                    if (data.accounts) {
                        accounts = data.accounts;
                        localStorage.setItem('cr_accounts', JSON.stringify(accounts));
                    }
                    if (data.cards) {
                        cards = data.cards;
                        localStorage.setItem('cr_cards', JSON.stringify(cards));
                    }
                    if (data.azeoCards) {
                        azeoCards = data.azeoCards;
                        localStorage.setItem('cr_azeo', JSON.stringify(azeoCards));
                    }
                    if (data.inquiries) {
                        inquiries = data.inquiries;
                        localStorage.setItem('cr_inquiries', JSON.stringify(inquiries));
                    }
                    if (data.derogatories) {
                        derogatories = data.derogatories;
                        localStorage.setItem('cr_derogatories', JSON.stringify(derogatories));
                    }

                    renderAccounts();
                    renderCards();
                    renderAzeo();
                    renderInquiries();
                    renderDerogatories();
                    updateStorageStatus();

                    alert('Data imported successfully!');
                } catch (err) {
                    alert('Error importing data: ' + err.message);
                }
            };
            reader.readAsText(file);
            event.target.value = ''; // Reset file input
        }

        // Initialize on load
        renderAccounts();
        renderCards();
        renderAzeo();
        renderInquiries();
        renderDerogatories();
        updateStorageStatus();

        // ==========================================
        // Score Simulator
        // ==========================================
        const scenarioDetails = {
            'pay-utilization': {
                title: 'Pay Cards to <9.5% Utilization',
                impact: '+20 to +50 points',
                details: `
                    <p><strong>What happens:</strong> Lowering utilization from high (30%+) to under 9.5% can have a significant positive impact.</p>
                    <p><strong>Timeline:</strong> 1 billing cycle (when new balance reports)</p>
                    <p><strong>Best practice:</strong></p>
                    <ul>
                        <li>Pay cards down BEFORE statement date</li>
                        <li>Target <9.5% on EACH card and aggregate</li>
                        <li>For max points, aim for <4.5%</li>
                        <li>Don't go to $0 on ALL cards (All-Zero penalty)</li>
                    </ul>
                `
            },
            'azeo': {
                title: 'Implement AZEO Strategy',
                impact: '+10 to +30 points',
                details: `
                    <p><strong>What happens:</strong> All Zero Except One optimizes both low utilization and avoids All-Zero penalty.</p>
                    <p><strong>Timeline:</strong> 1 billing cycle</p>
                    <p><strong>How to do it:</strong></p>
                    <ul>
                        <li>Pay all cards to $0 before statement closes</li>
                        <li>Leave ONE card with small balance ($5-50)</li>
                        <li>That one balance reports, showing activity</li>
                        <li>Results in very low utilization + no AZ penalty</li>
                    </ul>
                `
            },
            'new-card': {
                title: 'Open a New Credit Card',
                impact: '-5 to -20 points (short term)',
                details: `
                    <p><strong>What happens:</strong> Multiple factors combine for a short-term drop:</p>
                    <ul>
                        <li>Hard inquiry: -2 to -10 points</li>
                        <li>Lower AAoA: -3 to -10 points</li>
                        <li>New account on "New Revolver" scorecard if AoYRA drops under 12mo</li>
                    </ul>
                    <p><strong>Recovery:</strong> Usually recovers within 3-6 months as account ages.</p>
                    <p><strong>Long-term benefit:</strong> More available credit = lower utilization potential.</p>
                `
            },
            'close-card': {
                title: 'Close Oldest Credit Card',
                impact: '-10 to -40 points',
                details: `
                    <p><strong>What happens:</strong></p>
                    <ul>
                        <li>Immediate: Higher utilization (less available credit)</li>
                        <li>Future: When card falls off report (10 years), AAoA will drop</li>
                    </ul>
                    <p><strong>Recommendation:</strong> Keep old cards open even if unused. Use once every 6-12 months to prevent closure.</p>
                `
            },
            'miss-payment': {
                title: 'Miss a Payment (30 Days Late)',
                impact: '-60 to -110 points',
                details: `
                    <p><strong>What happens:</strong> First late payment on a clean profile causes severe damage.</p>
                    <ul>
                        <li>Higher starting score = bigger drop</li>
                        <li>Remains on report for 7 years</li>
                        <li>30-day late is serious; 60+ day late puts you on dirty scorecard</li>
                    </ul>
                    <p><strong>Recovery:</strong> Impact diminishes over time. Most damage in first 1-2 years.</p>
                    <p><strong>Prevention:</strong> Set up autopay for at least minimum payment on all accounts.</p>
                `
            },
            'collection': {
                title: 'Collection Added to Report',
                impact: '-50 to -100+ points',
                details: `
                    <p><strong>What happens:</strong> New collection is a serious derogatory mark.</p>
                    <ul>
                        <li>Puts you on "Public Record" dirty scorecard</li>
                        <li>Remains for 7 years from date of first delinquency</li>
                        <li>Paid vs unpaid makes little difference on Score 8</li>
                    </ul>
                    <p><strong>Best options:</strong></p>
                    <ul>
                        <li>Pay for Delete (PFD): Negotiate removal in exchange for payment</li>
                        <li>Dispute if inaccurate</li>
                        <li>Score 9 ignores paid collections</li>
                    </ul>
                `
            },
            'inquiry-falloff': {
                title: 'Wait for Inquiry to Age (12 Months)',
                impact: '+5 to +15 points',
                details: `
                    <p><strong>What happens:</strong> Hard inquiry stops affecting score at 12 months.</p>
                    <ul>
                        <li>Inquiry remains visible on report until 24-26 months</li>
                        <li>But score impact is gone at 12 months exactly</li>
                    </ul>
                    <p><strong>This is "gardening":</strong> Not applying for new credit to let inquiries age off.</p>
                `
            },
            'derog-age': {
                title: 'Negative Item Ages 2+ Years',
                impact: '+10 to +30 points',
                details: `
                    <p><strong>What happens:</strong> FICO weighs recent negatives more heavily. As items age, impact decreases.</p>
                    <ul>
                        <li>Most damage is in first 1-2 years</li>
                        <li>At 2 years, some scorecards reassess</li>
                        <li>Full removal at 7 years (10 for Ch.7 BK)</li>
                    </ul>
                    <p><strong>On dirty scorecards:</strong> You may move from "Recent" to "Mature" bucket as negatives age.</p>
                `
            },
            'mature-scorecard': {
                title: 'AoOA Reaches 36 Months',
                impact: '-5 to +15 points (varies)',
                details: `
                    <p><strong>What happens:</strong> You move from "Young" to "Mature" scorecard at 36 months AoOA.</p>
                    <ul>
                        <li>Rebucketing can cause temporary drop</li>
                        <li>You're now compared to people with more established credit</li>
                        <li>Long term: This is a better scorecard with higher ceiling</li>
                    </ul>
                    <p><strong>Common experience:</strong> 5-15 point drop at transition, then recovery and growth.</p>
                `
            },
            'no-new-revolver': {
                title: 'AoYRA Reaches 12 Months',
                impact: '+10 to +20 points',
                details: `
                    <p><strong>What happens:</strong> When your youngest revolving account hits 12 months, you move to "No New Revolver" scorecard.</p>
                    <ul>
                        <li>This is a scorecard segmentation bonus</li>
                        <li>Estimated 10-20 point boost</li>
                        <li>Opening a new card resets this</li>
                    </ul>
                    <p><strong>Strategy:</strong> If gardening, wait until you hit this milestone before applying for new cards.</p>
                `
            },
            'au-added': {
                title: 'Added as Authorized User',
                impact: '+10 to +50 points',
                details: `
                    <p><strong>What happens:</strong> Inheriting a seasoned account's history can boost your profile.</p>
                    <ul>
                        <li>Works best with old accounts (5+ years)</li>
                        <li>Must have low utilization and perfect payment history</li>
                        <li>Some banks backdate (card appears older on your report)</li>
                    </ul>
                    <p><strong>Note:</strong> Amex does NOT backdate. Chase, Citi, BoA, and others typically do.</p>
                `
            },
            'goodwill': {
                title: 'Goodwill Removal Approved',
                impact: '+20 to +80 points',
                details: `
                    <p><strong>What happens:</strong> Creditor agrees to remove accurate negative mark as a courtesy.</p>
                    <ul>
                        <li>Not guaranteed - it's a goodwill gesture</li>
                        <li>Use the CART method for your letter</li>
                        <li>Use Saturation Technique (multiple addresses)</li>
                        <li>Be polite, take responsibility, explain circumstances</li>
                    </ul>
                    <p><strong>Impact:</strong> Removing a late payment can be huge, especially if it's keeping you on a dirty scorecard.</p>
                `
            }
        };

        function simulateScenario(scenario) {
            const data = scenarioDetails[scenario];
            if (!data) return;

            document.getElementById('sim-result-title').textContent = data.title;
            document.getElementById('sim-result-content').innerHTML = `
                <div style="font-size:1.2rem;font-weight:600;margin-bottom:1rem;color:${data.impact.includes('+') ? 'var(--accent)' : 'var(--danger)'}">
                    Estimated Impact: ${data.impact}
                </div>
                ${data.details}
            `;
            document.getElementById('sim-result').style.display = 'block';
            document.getElementById('sim-result').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // ==========================================
        // Bank Rules Filter
        // ==========================================
        function filterBanks() {
            const query = document.getElementById('bank-search').value.toLowerCase();
            document.querySelectorAll('.bank-rule-card').forEach(card => {
                const bankName = card.dataset.bank || '';
                if (bankName.includes(query) || query === '') {
                    card.classList.remove('hidden');
                } else {
                    card.classList.add('hidden');
                }
            });
        }

        // ==========================================
        // Dispute Letter Templates
        // ==========================================
        const disputeTemplates = {
            'not-mine': {
                title: 'Account Not Mine (Identity Error)',
                template: `[Your Name]
[Your Address]
[City, State ZIP]
[Date]

[Credit Bureau Name]
[Credit Bureau Address]

Re: Dispute of Account - Not My Account
SSN: XXX-XX-[Last 4]
DOB: [Your DOB]

To Whom It May Concern:

I am writing to dispute the following account that appears on my credit report, as this account does not belong to me:

Creditor Name: [CREDITOR NAME]
Account Number: [ACCOUNT NUMBER]
Reported Balance: [BALANCE]

I have never opened an account with this creditor, nor have I authorized anyone to open an account on my behalf. This appears to be either a case of identity theft or a mixed credit file error.

Under the Fair Credit Reporting Act (FCRA), Section 611, I request that you investigate this matter and remove this account from my credit report.

Please provide me with:
1. A copy of any application or documentation bearing my signature
2. Proof that this account belongs to me
3. The method of verification used

Enclosed please find copies of:
- My driver's license
- [Additional ID if applicable]

Please investigate this matter and remove this inaccurate account from my credit report. I request written confirmation of the results within 30 days as required by law.

Sincerely,

[Your Signature]
[Your Printed Name]

Enclosures: [List documents]`
            },
            'wrong-balance': {
                title: 'Incorrect Balance',
                template: `[Your Name]
[Your Address]
[City, State ZIP]
[Date]

[Credit Bureau Name]
[Credit Bureau Address]

Re: Dispute of Incorrect Balance
SSN: XXX-XX-[Last 4]
DOB: [Your DOB]

To Whom It May Concern:

I am writing to dispute an incorrect balance being reported on the following account:

Creditor Name: [CREDITOR NAME]
Account Number: [ACCOUNT NUMBER]
Reported Balance: [INCORRECT BALANCE]
Correct Balance: [CORRECT BALANCE]

The balance shown on my credit report is inaccurate. According to my records and recent statements from the creditor, the actual balance is [CORRECT BALANCE].

Under the Fair Credit Reporting Act (FCRA), I request that you investigate this discrepancy and correct the reported balance.

Enclosed please find:
- Copy of recent statement showing correct balance
- [Any other supporting documentation]

Please update this information and provide written confirmation of the correction within 30 days.

Sincerely,

[Your Signature]
[Your Printed Name]

Enclosures: [List documents]`
            },
            'wrong-status': {
                title: 'Incorrect Account Status',
                template: `[Your Name]
[Your Address]
[City, State ZIP]
[Date]

[Credit Bureau Name]
[Credit Bureau Address]

Re: Dispute of Incorrect Account Status
SSN: XXX-XX-[Last 4]
DOB: [Your DOB]

To Whom It May Concern:

I am writing to dispute the incorrect status being reported on the following account:

Creditor Name: [CREDITOR NAME]
Account Number: [ACCOUNT NUMBER]
Reported Status: [INCORRECT STATUS - e.g., "Charged Off", "Collection"]
Correct Status: [CORRECT STATUS - e.g., "Paid in Full", "Closed"]

This account is incorrectly showing as [INCORRECT STATUS]. According to my records, this account [EXPLANATION - e.g., "was paid in full on [DATE]" or "was closed in good standing on [DATE]"].

Under the Fair Credit Reporting Act (FCRA), I request that you investigate and correct this error.

Enclosed please find:
- [Proof of payment/closure]
- [Creditor letter if applicable]

Please correct this status and provide written confirmation within 30 days.

Sincerely,

[Your Signature]
[Your Printed Name]

Enclosures: [List documents]`
            },
            'wrong-late': {
                title: 'Incorrect Late Payment',
                template: `[Your Name]
[Your Address]
[City, State ZIP]
[Date]

[Credit Bureau Name]
[Credit Bureau Address]

Re: Dispute of Incorrectly Reported Late Payment
SSN: XXX-XX-[Last 4]
DOB: [Your DOB]

To Whom It May Concern:

I am writing to dispute a late payment that is incorrectly reported on my credit file:

Creditor Name: [CREDITOR NAME]
Account Number: [ACCOUNT NUMBER]
Date of Alleged Late Payment: [MONTH/YEAR]
Reported Status: [e.g., "30 days late"]

This late payment is inaccurate. My records show that payment was made on time. [PROVIDE BRIEF EXPLANATION - e.g., "Payment was received by the creditor on [DATE], which was before the due date of [DATE]."]

Under the Fair Credit Reporting Act (FCRA), I request that you investigate this matter and remove this inaccurate late payment notation.

Enclosed please find:
- Bank statement showing payment date
- [Cancelled check copy if applicable]
- [Payment confirmation if applicable]

Please correct this error and provide written confirmation within 30 days.

Sincerely,

[Your Signature]
[Your Printed Name]

Enclosures: [List documents]`
            },
            'paid-collection': {
                title: 'Paid Collection Still Showing',
                template: `[Your Name]
[Your Address]
[City, State ZIP]
[Date]

[Credit Bureau Name]
[Credit Bureau Address]

Re: Dispute - Paid Collection Not Updated
SSN: XXX-XX-[Last 4]
DOB: [Your DOB]

To Whom It May Concern:

I am writing to dispute the status of the following collection account:

Collection Agency: [COLLECTION AGENCY NAME]
Account Number: [ACCOUNT NUMBER]
Original Creditor: [ORIGINAL CREDITOR]
Current Status Shown: [e.g., "Unpaid Collection"]

This collection account was paid in full on [DATE OF PAYMENT], but continues to show as unpaid on my credit report.

Under the Fair Credit Reporting Act (FCRA), I request that you investigate this matter and update the account to reflect its paid status.

Enclosed please find:
- Proof of payment (receipt, cancelled check, or bank statement)
- Paid in full letter from collection agency (if available)

Please update this account and provide written confirmation within 30 days.

Sincerely,

[Your Signature]
[Your Printed Name]

Enclosures: [List documents]`
            },
            'old-debt': {
                title: 'Debt Past 7-Year Limit',
                template: `[Your Name]
[Your Address]
[City, State ZIP]
[Date]

[Credit Bureau Name]
[Credit Bureau Address]

Re: Request for Removal - Account Beyond Reporting Period
SSN: XXX-XX-[Last 4]
DOB: [Your DOB]

To Whom It May Concern:

I am writing to request removal of the following account which has exceeded the maximum credit reporting period:

Creditor/Collection Agency: [NAME]
Account Number: [ACCOUNT NUMBER]
Date of First Delinquency: [DATE - must be 7+ years ago]

Under the Fair Credit Reporting Act (FCRA), Section 605, negative information must be removed after 7 years from the date of first delinquency (10 years for bankruptcy).

The date of first delinquency for this account was [DATE], which is more than 7 years ago. This account should no longer appear on my credit report.

Please remove this outdated account immediately and provide written confirmation of its removal.

Sincerely,

[Your Signature]
[Your Printed Name]`
            },
            'duplicate': {
                title: 'Duplicate Account',
                template: `[Your Name]
[Your Address]
[City, State ZIP]
[Date]

[Credit Bureau Name]
[Credit Bureau Address]

Re: Dispute - Duplicate Account Reporting
SSN: XXX-XX-[Last 4]
DOB: [Your DOB]

To Whom It May Concern:

I am writing to dispute a duplicate account appearing on my credit report:

Account 1: [CREDITOR NAME] - Account #[NUMBER]
Account 2: [CREDITOR NAME] - Account #[NUMBER]

These two entries refer to the same account and should only appear once. This may be due to the account being transferred, sold, or a reporting error.

Under the Fair Credit Reporting Act (FCRA), I request that you investigate this matter and remove the duplicate entry.

Please investigate and remove the duplicate, retaining only the accurate single entry. Provide written confirmation within 30 days.

Sincerely,

[Your Signature]
[Your Printed Name]`
            },
            'wrong-info': {
                title: 'Incorrect Personal Information',
                template: `[Your Name]
[Your Address]
[City, State ZIP]
[Date]

[Credit Bureau Name]
[Credit Bureau Address]

Re: Correction of Personal Information
SSN: XXX-XX-[Last 4]
DOB: [Your DOB]

To Whom It May Concern:

I am writing to request correction of inaccurate personal information on my credit report:

Information Currently Shown: [INCORRECT INFO]
Correct Information: [CORRECT INFO]

This may include:
[ ] Incorrect name spelling: Shown as [X], should be [Y]
[ ] Wrong address: Showing [ADDRESS] where I have never lived
[ ] Incorrect SSN
[ ] Wrong date of birth
[ ] Incorrect employer

Please update my personal information and provide written confirmation within 30 days.

Sincerely,

[Your Signature]
[Your Printed Name]

Enclosures: Copy of ID showing correct information`
            },
            'unauthorized-inquiry': {
                title: 'Unauthorized Hard Inquiry',
                template: `[Your Name]
[Your Address]
[City, State ZIP]
[Date]

[Credit Bureau Name]
[Credit Bureau Address]

Re: Dispute of Unauthorized Credit Inquiry
SSN: XXX-XX-[Last 4]
DOB: [Your DOB]

To Whom It May Concern:

I am writing to dispute an unauthorized hard inquiry on my credit report:

Inquiring Company: [COMPANY NAME]
Date of Inquiry: [DATE]

I did not authorize this company to access my credit report. I have not applied for credit with this company, nor have I given them permission to pull my credit.

Under the Fair Credit Reporting Act (FCRA), creditors must have a permissible purpose and written authorization to access my credit file. This inquiry was made without my consent.

I request that you:
1. Investigate this unauthorized inquiry
2. Remove it from my credit report
3. Provide me with documentation of how this inquiry was authorized

If this inquiry cannot be verified as authorized, please remove it immediately. Please provide written confirmation within 30 days.

Sincerely,

[Your Signature]
[Your Printed Name]`
            }
        };

        function showDisputeTemplate() {
            const select = document.getElementById('dispute-template-select');
            const templateKey = select.value;
            const container = document.getElementById('dispute-template-container');

            if (!templateKey) {
                container.style.display = 'none';
                return;
            }

            const template = disputeTemplates[templateKey];
            if (template) {
                document.getElementById('dispute-template-title').textContent = template.title;
                document.getElementById('dispute-template-text').value = template.template;
                container.style.display = 'block';
            }
        }

        function copyDisputeTemplate() {
            const textarea = document.getElementById('dispute-template-text');
            textarea.select();
            document.execCommand('copy');
            alert('Template copied to clipboard!');
        }
    </script>
</body>
</html>
